---
title: "example"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{example}
  %\VignetteEncoding{UTF-8}
  %\VignetteEngine{knitr::rmarkdown}
editor_options: 
  chunk_output_type: console
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

```{r setup}
library(imprecise101)
```

## Examples 

We draw a sequence of marbles whose colours are (in order): blue, green, blue, blue, green, red. What conclusions can you reach about the probability of drawing a red marble on a future trial? 

If $\Omega = \{R, B, G, O\}$, then $n = (1, 3, 2, 0)$ and $L(\theta|n) \propto \theta_R \theta_B^3 \theta_G^2$. 

### 4.1. Probabilities of Future Outcomes 

The simplest way of stating our conclusion is to report the posterior upper and lower probabilities of obtaining red on the next trial. 

Using $s=2$, $\overline{P}(R|n)=0.375$ and $\underline{P}(R|n)=0.125$
```{r}
op <- idm(nj=1, s=2, N=6, k=4)
c(op$p.lower, op$p.upper)
```

For $s=1$, $\overline{P}(R|n)=0.286$ and $\underline{P}(R|n)=0.143$. 
```{r}
op <- idm(nj=1, s=1, N=6, k=4)
round(c(op$p.lower, op$p.upper),3)
```

For the improper prior density ($s=0$) which gives $P(R|n)=0.167$ irrespective of $\Omega$. 

```{r}
op <- idm(nj=1, s=0, N=6, k=4)
round(c(op$p.lower, op$p.upper),3)
```

Three possible sample spaces are $\Omega_1=\{R,B,G,O\}$, $\Omega_2=\{R, O\}$, and $\Omega_3=\{LR, DR, O\}$. The parameter values $s=1,2,k/2$, and $k$, where $k$ is the number of elements in $\Omega$. 

```{r}
# Omega1
idm(nj=1, s=1, N=6, k=4)$p
idm(nj=1, s=2, N=6, k=4)$p
idm(nj=1, s=4/2, N=6, k=4)$p
idm(nj=1, s=4, N=6, k=4)$p

# Omega2
idm(nj=1, s=1, N=6, k=2)$p
idm(nj=1, s=2, N=6, k=2)$p
idm(nj=1, s=2/2, N=6, k=2)$p
idm(nj=1, s=2, N=6, k=2)$p

# Omega3
idm(nj=1, s=1, N=6, k=3, cA=2)$p
idm(nj=1, s=2, N=6, k=3, cA=2)$p
idm(nj=1, s=3/2, N=6, k=3, cA=2)$p
idm(nj=1, s=3, N=6, k=3, cA=2)$p

```

